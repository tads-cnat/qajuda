{% extends 'base/main.html' %}
{% load static %}
{% block conteudo %}
<head>
    <title>Voluntariar na ação</title>
    <link rel="stylesheet" href="{% static 'base/css/voluntariar.css' %}">
</head>
<body>
    <article>
        <div class="title">
            <h1>CONFIRMAÇÃO DE VOLUNTARIADO</h1>
        </div>
        <div id="termo-voluntariado">
            <p>
                Eu, {{ user.username }}, Confirmo o compartilhamento de alguns dos meus dados sensíveis com o(s) proprietário(s) dessa ação {{ acao.nome }}, bem com nome, contato, etc...
            </p>
            <br>
            <p>
                Aceito os termos presentes nesse Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia, eaque ullam cumque quos deleniti corrupti quo distinctio culpa tenetur quas corporis accusamus est quibusdam quam pariatur voluptates fugiat! Quas, aliquam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis eaque quis suscipit, porro omnis veniam, ducimus vero quod natus perspiciatis ipsum deserunt dolorum. Soluta unde perferendis, corrupti aut culpa quam? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatibus, suscipit. Rerum dignissimos quasi sunt, maxime quo maiores quisquam amet reiciendis dolores excepturi. Vero, dignissimos illum. Nesciunt maiores id qui eveniet.
            </p>
            <br>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla repudiandae, eum, veniam tenetur vel est, quia fugiat aliquam quae aspernatur totam velit consequuntur at magnam maxime unde tempora cupiditate voluptatem? Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio minus eveniet, quas amet explicabo odit, vel facere nobis voluptatum sed molestias numquam nemo sunt praesentium. Reprehenderit iste distinctio atque ullam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci neque ut, aliquid et sequi quibusdam eveniet explicabo, sed natus cum laboriosam eaque ab! Hic itaque placeat esse quia. Dicta, aliquam. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Deleniti, unde quod error dicta numquam quam vitae distinctio incidunt inventore hic ea porro, culpa, voluptas earum suscipit asperiores cum perferendis? Pariatur?
            </p>
        </div>
        
        <a href="{% url 'detalhes' acao.id %}">
            <div class="buttom1" onclick="enviarSolicitacao({{ acao.id }})">
                QUERO SER VOLUNTÁRIO
            </div>
        </a>

        <script>
            function enviarSolicitacao(acaoId) {
                // Faça uma requisição AJAX ou use fetch() para enviar a solicitação ao servidor
                // Aqui você pode usar bibliotecas como jQuery, axios ou o próprio fetch() do JavaScript
        
                // Exemplo usando fetch():
                fetch('/solicitar-participacao/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // Adicione quaisquer outros cabeçalhos necessários, como headers de autenticação
                    },
                    body: JSON.stringify({ acao_id: acaoId }),
                })
                .then(response => {
                    // Lógica para lidar com a resposta do servidor após enviar a solicitação
                    if (response.ok) {
                        alert('Solicitação enviada com sucesso!');
                    } else {
                        alert('Ocorreu um erro ao enviar a solicitação. Tente novamente.');
                    }
                })
                .catch(error => {
                    // Lógica para lidar com erros na requisição
                    console.error('Erro na requisição:', error);
                });
            }
        </script>
    </article>
</body>
{% endblock %}